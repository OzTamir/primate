<div class="container">
<div class="row">
<div class="col md-8">
    <div class="panel panel-border info">
    <div class="panel__heading">Service Details</div>
    <div class="panel__body">
        <form id="sv-ed__frm01" class="form" method="post" action="#">
            <div class="row">
            <div class="col md-12">
                <div class="form__field">
                    <div class="field-input linked">
                        <select id="sv-ed__sel01" class="md-2" name="protocol" data-ng-model="serviceModel.protocol" data-ng-selected="serviceModel.protocol" required="required">
                            <option data-ng-repeat="protocol in ENUM_PROTOCOL" value="{{protocol}}">{{protocol}}</option>
                        </select>
                        <input id="sv-ed__txt01" type="text" class="md-8" name="serviceHost" value="" data-ng-model="serviceModel.host" required="required" placeholder="Upstream host" />
                        <input id="sv-ed__txt02" type="number" class="md-2" name="servicePort" value="" data-ng-model="serviceModel.port" required="required" placeholder="Port" />
                    </div><!-- .linked -->
                </div>
            </div><!-- .col.md-12 -->
            </div><!-- .row -->

            <div class="row">
                <div class="col md-4">
                    <div class="form__field">
                        <label for="sv-ed__txt03" class="field-label">Service Name (optional)</label>
                        <div class="field-input"><input id="sv-ed__txt03" type="text" name="serviceName" value="" data-ng-model="serviceModel.name" placeholder="Eg: my-service" /></div>
                    </div><!-- .form__field -->
                </div><!-- .col-md-4 -->
                <div class="col md-4">
                    <div class="form__field">
                        <label for="sv-ed__txt04" class="field-label">Request Path (optional)</label>
                        <div class="field-input"><input id="sv-ed__txt04" type="text" name="servicePath" value="" data-ng-model="serviceModel.path" placeholder="Eg: /upstream-path" /></div>
                    </div><!-- .form__field -->
                </div><!-- .col-md-4 -->
                <div class="col md-4">
                    <div class="form__field">
                        <label for="sv-ed__rge01" class="field-label">Retries <span class="tooltip material-icons">help_outline</span></label>
                        <div class="field-input">
                            <input id="sv-ed__rge01" type="range" min="0" max="100" name="retries" value="" data-ng-model="serviceModel.retries" />
                            <span class="field-input__legend">{{serviceModel.retries}}</span>
                        </div><!-- .field-input -->
                    </div><!-- .form__field -->
                </div><!-- .col-md-4 -->
            </div><!-- .row -->

            <div class="row">
                <div class="col md-4">
                    <div class="form__field">
                        <label for="sv-ed__txt05" class="field-label">Connect Timeout</label>
                        <div class="field-input"><input id="sv-ed__txt05" type="number" name="connectTimeout" value="" data-ng-model="serviceModel.connect_timeout" placeholder="Default: 60000 ms" /></div>
                    </div>
                </div><!-- .col.md-4 -->

                <div class="col md-4">
                    <div class="form__field">
                        <label for="sv-ed__txt06" class="field-label">Read Timeout</label>
                        <div class="field-input"><input id="sv-ed__txt06" type="number" name="readTimeout" value="" data-ng-model="serviceModel.read_timeout" placeholder="Default: 60000 ms" /></div>
                    </div>
                </div><!-- .col.md-4 -->
                <div class="col md-4">
                    <div class="form__field">
                        <label for="sv-ed__txt07" class="field-label">Write Timeout</label>
                        <div class="field-input"><input id="sv-ed__txt07" type="number" name="writeTimeout" value="" data-ng-model="serviceModel.write_timeout" placeholder="Default: 60000 ms" /></div>
                    </div>
                </div><!-- .col.md-4 -->
            </div><!-- .row -->

            <div class="panel__split"><span>Certificates</span></div>
            <div class="row">
                <div class="col md-6">
                    <div class="form__field">
                        <label for="sv-ed__sel02" class="field-label">Client certificate</label>
                        <div class="field-input">
                            <select id="sv-ed__sel02" class="stretch" name="clientCertificate" data-ng-model="serviceModel.client_certificate" data-ng-selected="serviceModel.client_certificate">
                                <option value="">-- None --</option>
                                <option data-ng-repeat="current in pbCertList" value="{{current.id}}">{{current.displayName}}</option>
                            </select>
                        </div><!-- .field-input -->
                    </div>
                </div>
                <div class="col md-6">
                    <div class="form__field">
                        <label for="sv-ed__s02" class="field-label">CA Certificates</label>
                        <div class="field-input">
                            <select id="sv-ed__s02" class="stretch" name="caCertificates" data-ng-model="serviceModel.ca_certificates" multiple="multiple">
                                <option data-ng-if="caCertList.length<=0" value="">-- None --</option>
                                <option data-ng-repeat="current in caCertList" value="{{current.id}}">{{current.displayName}}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div><!-- .row -->

            <div class="panel__split"></div>
            <div class="form__field">
                <label class="field-label">Service Tags</label>
                <div class="field-input"><token-input data-ng-model="serviceModel.tags" data-placeholder="Type a tag and press enter key."></token-input></div>
            </div><!-- .form__field -->

            <div class="form__field">
                <a class="btn default" href="#!/services">Cancel</a>
                <button class="btn info" type="submit" name="action" value="update">Update</button>
            </div>
        </form>
    </div><!-- .panel__body -->
    </div><!-- .panel__heading -->
</div>

<div class="col md-4">
<div class="well">
<div class="well__heading">Applied Plugins
    <div class="pull-right"><a title="Add new plugin" href="#!/services/{{serviceId}}/plugins" class="btn mini success">+</a></div>
</div>

<table id="pluginListTable" class="table">
<thead data-ng-if="pluginList.length>0"><tr><th class="md-2">Enabled</th><th>Name</th><th class="md-3">Actions</th></tr> </thead>

<tbody>
<tr data-ng-repeat="plugin in pluginList">
    <td><label class="checkbox success">
        <input type="checkbox" data-name="{{plugin.name}}" value="{{plugin.id}}" class="plugin-state" data-ng-checked="plugin.enabled===true" />
    </label></td>

    <td><a href="#!/plugins/{{plugin.id}}"><b>{{plugin.name}}</b></a></td>
    <td>
        <div class="action-group" data-service-id="{{service.id}}">
            <a href="#!/plugins/{{plugin.id}}"><i class="material-icons warning">edit</i></a>
            <i class="material-icons danger delete" data-target="plugin" data-url="/services/{{serviceId}}/plugins/{{plugin.id}}">delete_forever</i>
        </div>
    </td>
</tr>
</tbody>

<tfoot data-ng-if="pluginList.length<=0"><tr><th colspan="3">No plugins enabled for this service.</th></tr></tfoot>
</table>
</div>

<div class="pagination" data-ng-if="nextPluginUrl"><button class="btn dark" data-ng-click="fetchPluginList(nextPluginUrl)">Load Next</button></div>
</div>
</div>
</div>